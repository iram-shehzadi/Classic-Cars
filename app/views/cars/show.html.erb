<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <div class="image-container" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path @car.photo.key, height: 400, width: 700, crop: :fill %>'); height: 400px; width: 700px">
        <%#= cl_image_tag @car.photo.key, class:'large-image' %>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="info-container">
          <h1 class ="less"><%= @car.manufacturer %> <%= @car.model %></h1>
            <ul>
              <li class="lessli"><%= @car.year %></li>
              <li class="lessli"><%= @car.price %></li>
              <li><%= 'â˜†' * 5 %></li>
            </ul>
          </div>
      </div>
  </div>
</div>
<!--
<div class="car-container" >

</div> -->
<div class="links">
<button type="button" class="btn btn-link">
<%= link_to 'Back', cars_path %>
</button>
<button type="button" class="btn btn-link">
<%= link_to 'Book car', new_car_booking_path(@car) %>
</button>
</div>


<h3>Reviews</h3>
  <% if @car.reviews.empty? %>
    <p>Be the first to leave a review</p>
  <% else %>
    <ul class="list-group">
      <% @car.reviews.each do |review| %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span class="badge badge-primary badge-pill">
            <% counter = 0 %>
            <% 5.times do %>
              <i class="fa <%= review.rating > counter ? 'fa-star' : 'fa-star-o' %>"></i>
              <% counter += 1 %>
            <% end %>
          </span>
          <%= review.content %>
        </li>
      <% end %>
    </ul>
  <% end %>
  <% if @car.bookings.where(user: current_user).any? %>
    <%= render "reviews/new", car: @car, review: @review, booking: @car.bookings.where(user: current_user).last %>
  <% end %>


<div id="map"
     style="width: 100%;
     height: 600px;"
     data-markers="<%= @markers.to_json %>"
     data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
